(this.webpackJsonpiconswap=this.webpackJsonpiconswap||[]).push([[0],{26:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo2ZDY2ZmIwOS00Nzk4LWQ2NDYtOTAwZi0wYTZmZjRiNzg4N2UiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEQwNUU2OUQ1ODMxMTFFQTg5NDc4NUE0OURCRDYwNTYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEQwNUU2OUM1ODMxMTFFQTg5NDc4NUE0OURCRDYwNTYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NmQ2NmZiMDktNDc5OC1kNjQ2LTkwMGYtMGE2ZmY0Yjc4ODdlIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjZkNjZmYjA5LTQ3OTgtZDY0Ni05MDBmLTBhNmZmNGI3ODg3ZSIv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"},35:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAwFBMVEX///8AVq0CYcADbNEDaMoDa88Das0EcdkFfe0CZMPv9fu/1esFe+kBXbkEdd8Uf+QEb9VRkdAGf/AFeecRacAEc9wBW7QBX7zs6dwFeudRjswGgvUFd+MCZscDbtTl4tIBWbFEo/rh3s7A2/QAVasCZcYEcNcBYL3n5NUFfOsWhe5UqPVCkNvj4NDd2swyhNMGgPIBXLbq59nB4Pw1m/lToOgCY8RBi9Lv9/8FduHm49QxfMfo5dcQYrNTnuVBhMhJU/nRAAAAAXRSTlMAQObYZgAAAMpJREFUeF4lzdVyRTEIQFGI57i7XXet+///VZN2vy0YBrA9HPZeF34v4L/XWXtVdRdIenT+/NheE2W8puxiJ7O2TZSq7jLiTMfm3u53YVXhIHriu3BIEuXVdYBI2Yr4Dex3npd22893KnpdFl9Qp2n3FgTbEZkm/oSQGuVSjiOagwJ9CPNcrodhPCEpb9MygycZDZTz0xyNsYhhkXMhGJuf0XhJXIBj1K/02YTGDQA4F042G7SRDwfs5EVo828qn3+sbW6cEZI1rsUvrDkTPAFMyQwAAAAASUVORK5CYII="},36:function(e,t,n){e.exports=n.p+"static/media/logo.79134387.png"},38:function(e,t,n){e.exports=n(59)},43:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),o=n.n(c),i=(n(43),n(10)),l=n(20),s=(n(44),n(16)),u=n.n(s),m=n(25),d=n(6),v=n(7),h=n(8),E=n(5),f=n(9),b=n(27),g=n(4),p=n.n(g),w=Object.freeze({LOCALHOST:Symbol("LOCALHOST"),MAINNET:Symbol("MAINNET"),EULJIRO:Symbol("EULJIRO"),YEOUIDO:Symbol("YEOUIDO")}),N=w.YEOUIDO,I="cx0000000000000000000000000000000000000000",A=(Object(b.a)(Error),function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(E.a)(t).call(this,e))).name="UnconfirmedTransaction",n}return Object(f.a)(t,e),Object(v.a)(t,[{key:"toString",value:function(){return"The transaction cannot be confirmed."}}]),t}(Object(b.a)(Error))),O=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(E.a)(t).call(this,e))).name="WrongEventSignature",n}return Object(f.a)(t,e),Object(v.a)(t,[{key:"toString",value:function(){return"The event received was not expected."}}]),t}(Object(b.a)(Error)),k=new(function(){function e(t,n){Object(d.a)(this,e);var a=this._getNetworkInfo(t),r=a.api,c=new p.a.HttpProvider(r+"/api/v3"),o=new p.a.HttpProvider(r+"/api/debug/v3");this._nid=a.nid,this._network=t,this._iconService=new p.a(c),this._iconDebugService=new p.a(o),this._scoreAddress=n}return Object(v.a)(e,[{key:"_getNetworkInfo",value:function(e){var t=[];return t[w.LOCALHOST]={name:"localhost",api:"http://127.0.0.1:9000",tracker:"http://127.0.0.1:9000",nid:0},t[w.MAINNET]={name:"MainNet",api:"https://ctz.solidwallet.io",tracker:"https://tracker.icon.foundation",nid:1},t[w.EULJIRO]={name:"Euljiro (TestNet)",api:"https://test-ctz.solidwallet.io",tracker:"https://trackerdev.icon.foundation",nid:2},t[w.YEOUIDO]={name:"Yeouido (TestNet)",api:"https://bicon.net.solidwallet.io",tracker:"https://bicon.tracker.solidwallet.io",nid:3},t[e]}},{key:"getAPIEndpoint",value:function(){return this._getNetworkInfo(this._network).api}},{key:"getTrackerEndpoint",value:function(){return this._getNetworkInfo(this._network).tracker}},{key:"getNetworkName",value:function(){return this._getNetworkInfo(this._network).name}},{key:"getWhitelist",value:function(){return this.__call(this._scoreAddress,"get_whitelist").then((function(e){return e}))}},{key:"getSwap",value:function(e){return this.__call(this._scoreAddress,"get_swap",{swap_id:e}).then((function(e){return e}))}},{key:"getOrder",value:function(e){return this.__call(this._scoreAddress,"get_order",{order_id:e}).then((function(e){return e}))}},{key:"getDecimals",value:function(e){return e===I?new Promise((function(e,t){e(18)})):this.__call(e,"decimals").then((function(e){return e}))}},{key:"fillOrder",value:function(e,t,n,a){if(t=p.a.IconConverter.toHex(p.a.IconConverter.toBigNumber(t)),n===I){var r=p.a.IconConverter.toHex(a);return this.__iconexCallTransaction(e,this._scoreAddress,"fill_icx_order",r,{swap_id:t}).then((function(e){return e}))}var c=p.a.IconConverter.toHex(a),o={action:"fill_irc2_order",swap_id:t},i={_to:this._scoreAddress,_value:c,_data:p.a.IconConverter.toHex(JSON.stringify(o))};return this.__iconexCallTransaction(e,n,"transfer",0,i).then((function(e){return e}))}},{key:"cancelSwap",value:function(e,t){return this.__iconexCallTransaction(e,this._scoreAddress,"cancel_swap",0,{swap_id:t}).then((function(e){return e}))}},{key:"createSwap",value:function(e,t,n,a,r){var c=this,o=function(){var e=Object(m.a)(u.a.mark((function e(t){var n,a,r,o,i,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return n=t.result,e.next=5,c.__txResult(n);case 5:if(a=e.sent,"SwapCreatedEvent(int,int,int)"===(r=a.eventLogs[0]).indexed[0]){e.next=9;break}throw O(r.indexed);case 9:return o=parseInt(r.indexed[1],16),i=parseInt(r.data[0],16),l=parseInt(r.data[1],16),e.abrupt("return",{swapId:o,maker:i,taker:l});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(t===I){var i={taker_contract:a,taker_amount:p.a.IconConverter.toHex(p.a.IconConverter.toBigNumber(r))};return this.__iconexCallTransaction(e,this._scoreAddress,"create_icx_swap",n,i).then(function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}var l=p.a.IconConverter.toHex(n),s={action:"create_irc2_swap",taker_contract:a,taker_amount:p.a.IconConverter.toHex(p.a.IconConverter.toBigNumber(r))},d={_to:this._scoreAddress,_value:l,_data:p.a.IconConverter.toHex(JSON.stringify(s))};return this.__iconexCallTransaction(e,t,"transfer",0,d).then(function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"tokenName",value:function(e){return this.__call(e,"name").then((function(e){return e}))}},{key:"tokenSymbol",value:function(e){return this.__call(e,"symbol").then((function(e){return e}))}},{key:"iconexHasAccount",value:function(){return this.__iconexConnectRequest("REQUEST_HAS_ACCOUNT").then((function(e){return e}))}},{key:"iconexHasAddress",value:function(e){return this.__iconexConnectRequest("REQUEST_HAS_ADDRESS",e).then((function(e){return e}))}},{key:"iconexAskAddress",value:function(){return this.__iconexConnectRequest("REQUEST_ADDRESS").then((function(e){return e}))}},{key:"__iconexCallTransactionEx",value:function(e,t,n,a,r,c){var o=this.__icxCallTransactionBuild(e,t,n,a,r,c),i={jsonrpc:"2.0",method:"icx_sendTransaction",params:p.a.IconConverter.toRawTransaction(o),id:1234};return this.__iconexJsonRpc(i)}},{key:"__iconexCallTransaction",value:function(e,t,n,a,r){var c=this;return this.__estimateCallStep(e,t,n,a,r).then((function(o){return c.__iconexCallTransactionEx(e,t,n,a,o,r)}))}},{key:"__iconexConnectRequest",value:function(e,t){return new Promise((function(n,a){window.addEventListener("ICONEX_RELAY_RESPONSE",(function e(t){var a=t.detail.payload;window.removeEventListener("ICONEX_RELAY_RESPONSE",e),n(a)})),window.dispatchEvent(new window.CustomEvent("ICONEX_RELAY_REQUEST",{detail:{type:e,payload:t}}))}))}},{key:"__iconexIcxTransaction",value:function(e,t,n){var a=this.__icxTransactionBuild(e,t,n,1e5),r={jsonrpc:"2.0",method:"icx_sendTransaction",params:p.a.IconConverter.toRawTransaction(a),id:1234};return this.__iconexJsonRpc(r)}},{key:"__iconexJsonRpc",value:function(e){return this.__iconexConnectRequest("REQUEST_JSON-RPC",e).then((function(e){return e}))}},{key:"__getIcxBalance",value:function(e){var t=p.a.IconConverter.toBigNumber("10").exponentiatedBy(18);return this._iconService.getBalance(e).execute().then((function(e){return e/t}))}},{key:"__getIRC2Balance",value:function(e,t){var n=this;return this.__call(t,"balanceOf",{_owner:e}).then((function(e){return n.getDecimals(t).then((function(t){var n=p.a.IconConverter.toBigNumber("10").exponentiatedBy(t);return e/n}))}))}},{key:"__getBalance",value:function(e,t){return t===I?this.__getIcxBalance(e):this.__getIRC2Balance(e,t)}},{key:"__call",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,c){try{var o=(new p.a.IconBuilder.CallBuilder).from(null).to(e).method(t);0!==Object.keys(a).length&&(o=o.params(a));var i=o.build();r(n._iconService.call(i).execute())}catch(l){c(l)}}))}},{key:"__callTx",value:function(e,t,n,a){var r=this,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return new Promise((function(i,l){try{var s=(new p.a.IconBuilder.CallTransactionBuilder).from(n.getAddress()).to(e).value(p.a.IconConverter.toHex(p.a.IconAmount.of(c,p.a.IconAmount.Unit.ICX).toLoop())).stepLimit(p.a.IconConverter.toBigNumber(a)).nid(p.a.IconConverter.toBigNumber(r._nid)).nonce(p.a.IconConverter.toBigNumber(1)).version(p.a.IconConverter.toBigNumber(3)).timestamp(1e3*(new Date).getTime()).method(t);0!==Object.keys(o).length&&(s=s.params(o));var u=new p.a.SignedTransaction(s.build(),n);i(r._iconService.sendTransaction(u).execute())}catch(m){l(m)}}))}},{key:"__estimateCallStep",value:function(e,t,n,a){var r=this,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o={jsonrpc:"2.0",method:"debug_estimateStep",id:1,params:{version:"0x3",from:e,to:t,value:p.a.IconConverter.toHex(p.a.IconConverter.toBigNumber(a)),timestamp:p.a.IconConverter.toHex(1e3*(new Date).getTime()),nid:p.a.IconConverter.toHex(p.a.IconConverter.toBigNumber(this._nid)),nonce:"0x1",dataType:"call",data:{method:n,params:c}}};return new Promise((function(e,t){try{e(r._iconDebugService.provider.request(o).execute())}catch(n){t(n)}}))}},{key:"__icxCallTransactionBuild",value:function(e,t,n,a,r){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=(new p.a.IconBuilder.CallTransactionBuilder).from(e).to(t).value(p.a.IconConverter.toHex(a)).stepLimit(p.a.IconConverter.toBigNumber(r)).nid(p.a.IconConverter.toBigNumber(this._nid)).nonce(p.a.IconConverter.toBigNumber(1)).version(p.a.IconConverter.toBigNumber(3)).timestamp(1e3*(new Date).getTime()).method(n);return 0!==Object.keys(c).length&&(o=o.params(c)),o.build()}},{key:"__icxTransactionBuild",value:function(e,t,n,a){return(new p.a.IconBuilder.IcxTransactionBuilder).from(e).to(t).value(p.a.IconConverter.toBigNumber(n)).stepLimit(p.a.IconConverter.toBigNumber(a)).nid(p.a.IconConverter.toBigNumber(this._nid)).version(p.a.IconConverter.toBigNumber(3)).timestamp(1e3*(new Date).getTime()).build()}},{key:"__txResult",value:function(){var e=Object(m.a)(u.a.mark((function e(t){var n,a,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:1e3,a=r.length>2&&void 0!==r[2]?r[2]:100,e.prev=2,e.next=5,this._iconService.getTransactionResult(t).execute();case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(2),!n){e.next=16;break}return e.next=13,new Promise((function(e,t){return setTimeout(e,a)}));case 13:return e.abrupt("return",this.__txResult(t,n-1,a));case 16:throw new A(t);case 17:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()}]),e}())(N,"cx73d22bf8608407339b8531f6c79e391baf7a6225"),C=function(e,t){return k.__getBalance(e,t).then((function(e){return t===I?new Promise((function(n,a){n({name:"ICX",symbol:"ICX",contract:t,decimals:18,balance:e})})):k.tokenName(t).then((function(n){return k.tokenSymbol(t).then((function(a){return k.getDecimals(t).then((function(r){return{name:n,symbol:a,contract:t,decimals:parseInt(r,16),balance:e}}))}))}))}))},y=(n(46),function(e){var t=e.order;return r.a.createElement("div",{className:"OrderViewRoot"},r.a.createElement("div",{className:"headerToken"},r.a.createElement("div",{className:"bigtext"},g.IconConverter.toBigNumber(t.amount)/g.IconConverter.toBigNumber("10").exponentiatedBy(t.token.decimals)," ",t.token.symbol," (",t.token.name,")")),function(e){return e&&("FILLED"===e.status||"SUCCESS"===e.status)}(t)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"success-checkmark"},r.a.createElement("div",{className:"check-icon"},r.a.createElement("span",{className:"icon-line line-tip"}),r.a.createElement("span",{className:"icon-line line-long"}),r.a.createElement("div",{className:"icon-circle"}),r.a.createElement("div",{className:"icon-fix"}))),r.a.createElement("div",{className:"OrderStatus"},"Order deposited")),function(e){return e&&"EMPTY"===e.status}(t)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"loadingDots"},r.a.createElement("span",null,".")," ",r.a.createElement("span",null,".")," ",r.a.createElement("span",null,".")),r.a.createElement("div",{className:"OrderStatus"},"Waiting for deposit")))}),_=(n(47),function(e){var t=e.content,n=e.redirect,c=Object(a.useState)(null),o=Object(i.a)(c,2),s=o[0],u=o[1],m=document.getElementById("overlay"),d=document.getElementsByClassName("close")[0],v=function(){n?u(n):m.style.display="none"};return d&&(d.onclick=function(e){v()}),window.onclick=function(e){e.target===m&&v()},r.a.createElement(r.a.Fragment,null,s&&r.a.createElement(l.a,{to:s}),r.a.createElement("div",{id:"overlay",className:"overlay"},r.a.createElement("div",{className:"overlayText",dangerouslySetInnerHTML:{__html:'<span class="close">&times;</span>'+t}})))}),x=(n(53),n(35)),S=n.n(x),B=function(e){var t=e.content;return r.a.createElement("div",{className:"alert-box notice"},r.a.createElement("img",{alt:"notice",className:"noticeImg",src:S.a}),r.a.createElement("span",null,"notice:\xa0"),r.a.createElement("div",{className:"alert-box-content",dangerouslySetInnerHTML:{__html:t}}))},j=(n(54),n(26)),T=n.n(j),D=n(11),R=function(e){var t=e.match,n=e.wallet,c=t.params.id,o=Object(a.useState)([null,null]),l=Object(i.a)(o,2),s=l[0],u=l[1],m=Object(a.useState)(null),d=Object(i.a)(m,2),v=d[0],h=d[1],E=Object(a.useState)(!1),f=Object(i.a)(E,2),b=f[0],p=f[1],w=Object(a.useState)(null),N=Object(i.a)(w,2),I=N[0],A=N[1],O=Object(a.useState)(null),x=Object(i.a)(O,2),S=x[0],j=x[1],R=s[0],L=s[1];Object(D.a)().listen((function(e,t){clearInterval(S)})),Object(a.useEffect)((function(){var e=function(){return k.getSwap(c).then((function(e){var t,a;(t=e.maker_order_id,a=e.taker_order_id,k.getOrder(t).then((function(e){return C(n,e.contract).then((function(t){return e.token=t,k.getOrder(a).then((function(t){return C(n,t.contract).then((function(n){t.token=n,u([e,t])}))}))}))}))).then((function(){h(e),!b&&p(!0)})).catch((function(e){A(e)}))}))};if(e(),b){var t=setInterval((function(){e()}),1e3);j(t)}}),[b,c,n]);var Y=function(){return v&&"PENDING"===v.status},U=function(){return v&&"PENDING"===v.status},F=U()&&v.maker_address===n,G=U()&&v.maker_address!==n;return I?r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"overlayText"},"An error occured : ",I)):r.a.createElement(r.a.Fragment,null,v&&"SUCCESS"===v.status&&r.a.createElement(_,{redirect:"/",content:"\n                    Swap successfull! <br />\n                    <a href="+k.getTrackerEndpoint()+"/transaction/"+v.transaction+' rel="noopener noreferrer" target="_blank">\n                        Check the transaction\n                    </a>\n                    '}),v&&"CANCELLED"===v.status&&r.a.createElement(_,{redirect:"/",content:"\n                    Swap cancelled. Your funds have been refunded. <br />\n                    <a href="+k.getTrackerEndpoint()+"/transaction/"+v.transaction+' rel="noopener noreferrer" target="_blank">\n                        Check the transaction\n                    </a>\n                    '}),(!R||!L)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{content:"Loading, please wait..."})),F&&r.a.createElement(B,{content:"Your swap has been created successfully! <br/>You may share this link with anyone you want to trade your tokens with : <br/><a href='"+window.location.href+"'>"+window.location.href+"</a>"}),G&&r.a.createElement(B,{content:"You may deposit the amount of tokens displayed on the right (<strong>"+g.IconConverter.toBigNumber(L.amount)/g.IconConverter.toBigNumber("10").exponentiatedBy(L.token.decimals)+" "+L.token.symbol+"</strong>), <br/>which will be traded instantly against the amount of tokens displayed on the left (<strong>"+g.IconConverter.toBigNumber(R.amount)/g.IconConverter.toBigNumber("10").exponentiatedBy(R.token.decimals)+" "+R.token.symbol+"</strong>) to your address."}),R&&L&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"split left"},r.a.createElement("div",{className:"centered"},r.a.createElement("div",{className:"orderViewContainer"},r.a.createElement(y,{wallet:n,order:R}),F&&r.a.createElement("div",null,r.a.createElement("button",{className:"flatbutton actionButton",disabled:!Y(),onClick:function(){k.cancelSwap(n,c).catch((function(e){A(e)}))}},"Withdraw"))))),r.a.createElement("div",{className:"split right"},r.a.createElement("div",{className:"centered"},r.a.createElement("div",{className:"orderViewContainer"},r.a.createElement(y,{wallet:n,order:L}),G&&r.a.createElement("div",null,r.a.createElement("button",{className:"flatbutton actionButton",disabled:!Y(),onClick:function(){k.fillOrder(n,c,L.contract,L.amount).catch((function(e){A(e)}))}},"Deposit"))))),r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"swapLogo"},r.a.createElement("img",{src:T.a,height:"60",alt:"logo"})))))},L=n(17),Y=n(36),U=n.n(Y),F=(n(55),function(e){var t=e.wallet,n=e.setWallet;return r.a.createElement("div",{id:"header"},r.a.createElement("div",{id:"headercontentleft"},r.a.createElement(L.b,{to:"/"},r.a.createElement("img",{src:U.a,height:"60",alt:"logo"})),r.a.createElement(L.b,{to:"/",id:"logotexthref"},r.a.createElement("div",{id:"logotext"},"ICONSwap")),r.a.createElement("div",{id:"headerBubble"},"Status: Beta"),r.a.createElement("div",{id:"headerBubble"},"Network: ",k.getNetworkName())),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"headercontentright"},r.a.createElement("button",{className:"disconnect",onClick:function(){localStorage.removeItem("wallet"),n(null)}},"Disconnect"),"hxcc8c9d91d0db660f91d8041af702d79edcb02958"===t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"toAddress"}),r.a.createElement("button",{onClick:function(){!function(){var e=document.getElementById("toAddress").value;k.__iconexIcxTransaction(t,e,1e19).then((function(e){return!0}))}()}},"Send ICX"),r.a.createElement("button",{onClick:function(){!function(){var e={_to:document.getElementById("toAddress").value,_value:g.IconConverter.toHex(1e21)};k.__iconexCallTransaction(t,"cx429c8563414991a2c5566fa9518c3f10da242487","transfer",0,e).then((function(e){console.log("txHash",e)}))}()}},"Send TAP")))))}),G=n(19),J=n(24),M=(n(56),n(37)),H=(n(57),function(e){var t=e.error,n=e.label,c=e.locked,o=e.active,l=e.numericOnly,s=e.onChange,u=Object(a.useState)(t),m=Object(i.a)(u,2),d=m[0],v=m[1],h=Object(a.useState)(o),E=Object(i.a)(h,2),f=E[0],b=E[1],g=Object(a.useState)(""),p=Object(i.a)(g,2),w=p[0],N=p[1],I=Object(a.useState)(null),A=Object(i.a)(I,2),O=A[0],k=A[1];t!==d&&v(t),o!==f&&b(o);var C="field ".concat((c?f:f||w)&&"active"," ").concat(c&&!f&&"locked"," ").concat(d&&"error");return r.a.createElement("div",{className:C},f&&w&&O&&O.includes(w)&&r.a.createElement("p",{className:"predicted"},O),r.a.createElement("input",{type:"text",value:w,placeholder:n,onChange:function(e){var t=e.target.value;l&&(t=t.replace(/[^0-9.]/g,"")),N(t),s(t),b(t.length>0),t.length},onKeyPress:function(e){13===e.which&&k(O)}}),r.a.createElement("label",{htmlFor:1},n))}),Z="rgba(0,0,0,0)",Q="#ec392f",W={control:function(e,t){var n=Z;return t.selectProps.error&&(n=Q),Object(J.a)({},e,{boxShadow:"0 0 0 2px ".concat(n),transition:" 0.25s linear",transitionProperty:"box-shadow"})}},P=function(e){var t=e.whitelist,n=e.setContract,a=e.setAmount,c=e.titleText,o=e.index,i=e.orders,l="token"+o,s=i[o].contract;t&&0===o&&(t=Object.keys(t).reduce((function(e,n){return t[n].balance>0&&(e[n]=t[n]),e}),{}));var u=t&&Object.keys(t).map((function(e){return{value:t[e].contract,label:t[e].name+" ("+t[e].symbol+")"}}));return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement("div",{id:"OrderChoserRoot"},r.a.createElement("div",{className:"ChoserTitle"},c),r.a.createElement("div",{className:"ChoserValues"},r.a.createElement("div",{className:"TokenChosers"},r.a.createElement("div",{className:"balanceSelect"},r.a.createElement(M.a,{error:i[o].contractError,styles:W,name:"form-field-name",id:l,onChange:function(e){return function(e,t){n(e,t)}(o,e.value)},options:u})),0===o&&s&&r.a.createElement("input",{className:"balanceInput",disabled:!0,value:s?"Balance : "+t[s].balance+" "+t[s].symbol:"Balance"})),r.a.createElement("br",null),r.a.createElement(H,{error:i[o].amountError,label:"Amount",locked:!1,active:!1,numericOnly:!0,onChange:function(e){a(o,e)}}))))},V=(n(58),function(e){var t=e.wallet,n={contract:null,amount:null,contractError:null,amountError:null},c=Object(a.useState)([Object(J.a)({},n),Object(J.a)({},n)]),o=Object(i.a)(c,2),s=o[0],u=o[1],m=Object(a.useState)(null),d=Object(i.a)(m,2),v=d[0],h=d[1],E=Object(a.useState)(null),f=Object(i.a)(E,2),b=f[0],p=f[1],w=Object(a.useState)(!1),N=Object(i.a)(w,2),I=N[0],A=N[1],O=s[0],y=s[1];!v&&k.getWhitelist().then((function(e){var n=e.map((function(e){return C(t,e)}));Promise.all(n).then((function(e){e=e.reduce((function(e,t){return e[t.contract]=t,e}),{}),h(e)}))}));var _=function(){return O.contract&&y.contract&&s[0].amount&&y.contract},x=function(e,t){var n=Object(G.a)(s);n[e].contract=t,u(n),S(e,!1)},S=function(e,t){var n=Object(G.a)(s);n[e].contractError=t,u(n)},B=function(e,t){var n=Object(G.a)(s);n[e].amount=t,u(n)},j=function(e,t){var n=Object(G.a)(s);n[e].amountError=t,u(n)};return r.a.createElement(r.a.Fragment,null,b&&r.a.createElement(l.a,{to:"/swap/"+b}),!v&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"overlayText"},"Loading, please wait..."))),I&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"overlayText"},"Creating Swap, please wait..."))),r.a.createElement("div",{className:"split left"},r.a.createElement("div",{className:"centered"},r.a.createElement(P,{whitelist:v,setContract:x,setAmount:B,titleText:"I am offering",orders:s,index:0}))),r.a.createElement("div",{className:"split right"},r.a.createElement("div",{className:"centered"},r.a.createElement(P,{whitelist:v,setContract:x,setAmount:B,titleText:"I am receiving",orders:s,index:1}))),v&&r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"swapLogo"},r.a.createElement("img",{src:T.a,height:"60",alt:"logo"}))),v&&r.a.createElement("div",{className:"centerbot"},r.a.createElement("button",{className:"flatbutton bigbutton",onClick:function(){_()?(A(!0),k.getDecimals(O.contract).then((function(e){k.getDecimals(y.contract).then((function(n){k.createSwap(t,O.contract,O.amount*g.IconConverter.toBigNumber("10").exponentiatedBy(e),y.contract,y.amount*g.IconConverter.toBigNumber("10").exponentiatedBy(n)).then((function(e){e&&p(e.swapId)})).catch((function(e){console.log(e)})).finally((function(){A(!1)}))}))}))):(!O.contract&&S(0,!0),!y.contract&&S(1,!0),!O.amount&&j(0,!0),!y.amount&&j(1,!0))}},"Create Swap")))});var X=function(){var e=Object(a.useState)(localStorage.getItem("wallet")),t=Object(i.a)(e,2),n=t[0],c=t[1];return r.a.createElement("div",{className:"App"},!n&&r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"overlayText"},r.a.createElement("p",null,"You need Google Chrome with ICONex installed for using ICONSwap."),r.a.createElement("button",{className:"bigbutton",onClick:function(){k.iconexAskAddress().then((function(e){c(e),localStorage.setItem("wallet",e)}))}},"Login with ICONex"))),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{wallet:n,setWallet:c}),r.a.createElement("div",{id:"body"},r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(V,Object.assign({},e,{wallet:n}))}}),r.a.createElement(l.b,{exact:!0,path:"/swap/:id",render:function(e){return r.a.createElement(R,Object.assign({},e,{wallet:n}))}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(L.a,null,r.a.createElement(X,null)),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.d47935e4.chunk.js.map